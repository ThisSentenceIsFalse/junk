# @configure_input@

SHELL = /bin/sh

# these need to be explicitly set for now. Probably
# annulled by automake
srcdir = @srcdir@
VPATH = @srcdir@

prefix = @prefix@
exec_prefix = @exec_prefix@

# AC_PROG_CC makes these available
CC = @CC@
LD = @CC@

CPPFLAGS = @CPPFLAGS@
CFLAGS = @CFLAGS@
LDFLAGS = @LDFLAGS@

# AC_INIT makes these available
PACKAGE = @PACKAGE_TARNAME@
VERSION = @PACKAGE_VERSION@

# Nothing special about any of these rules
.PHONY: default dist install

.SUFFIXES:
.SUFFIXES: .c .o

# Will use implicit rule
default: fam

devfam: fam.c
	$(CC) -Wall -pedantic $(CPPFLAGS) $(CFLAGS) $(LDFLAGS) $< -o $@

dist:
	tar --exclude-ignore=.dist -czf $(PACKAGE)-$(VERSION).tar.gz $(srcdir)

install:
	mv fam @bindir@

# TODO: test target
# TODO: research other canonical targets
